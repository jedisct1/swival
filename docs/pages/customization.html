<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Customization — Swival</title>
    <meta name="description" content="Customization — Swival documentation">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Customization — Swival">
    <meta property="og:description" content="Customization — Swival documentation">
    <meta property="og:image" content="https://swival.github.io/swival/img/logo.png">
    <meta property="og:url" content="https://swival.github.io/swival/pages/customization.html">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Customization — Swival">
    <meta name="twitter:description" content="Customization — Swival documentation">
    <meta name="twitter:image" content="https://swival.github.io/swival/img/logo.png">
    <link rel="icon" href="../favicon.ico">
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <header class="site-header">
        <div class="header-inner">
            <a href="../" class="header-logo">
                <img src="../img/logo.png" alt="Swival">
            </a>
            <nav class="header-nav">
                <a href="./">Docs</a>
                <a href="https://github.com/swival/swival">GitHub</a>
            </nav>
        </div>
    </header>
    <div class="docs-layout">
        <aside class="sidebar">
            <div class="sidebar-section">
<h4>Basics</h4>
<ul>
<li><a href="getting-started.html">Getting Started</a></li>
<li><a href="usage.html">Usage</a></li>
<li><a href="tools.html">Tools</a></li>
</ul>
</div>
<div class="sidebar-section">
<h4>Configuration & Deployment</h4>
<ul>
<li><a href="safety-and-sandboxing.html">Safety & Sandboxing</a></li>
<li><a href="skills.html">Skills</a></li>
<li><a href="customization.html" class="active">Customization</a></li>
<li><a href="providers.html">Providers</a></li>
<li><a href="reports.html">Reports</a></li>
<li><a href="reviews.html">Reviews</a></li>
<li><a href="agentfs.html">AgentFS</a></li>
</ul>
</div>
        </aside>
        <article class="docs-content">
            <h1 id="customization">Customization</h1>
<h2 id="configuration-files">Configuration Files</h2>
<p>Swival supports persistent settings through TOML config files at two levels: a user-global file and a project-local file. Both are optional.</p>
<p>The global config lives at <code>~/.config/swival/config.toml</code> (or <code>$XDG_CONFIG_HOME/swival/config.toml</code> if you set that variable). The project config is <code>swival.toml</code> in the base directory.</p>
<p>When both files exist, project settings override global settings. CLI flags override everything. The full precedence order is:</p>
<p>CLI flags &gt; project config &gt; global config &gt; hardcoded defaults</p>
<p>To generate a starter config with all settings commented out, run one of:</p>
<pre><code class="language-sh">swival --init-config            # global config
swival --init-config --project  # project config in current directory
</code></pre>
<p>Settings use the same names as CLI flags. Lists use TOML arrays instead of comma-separated strings.</p>
<pre><code class="language-toml">provider = &quot;openrouter&quot;
model = &quot;qwen/qwen3-235b-a22b&quot;
max_turns = 50
allowed_commands = [&quot;ls&quot;, &quot;git&quot;, &quot;python3&quot;]
allowed_dirs = [&quot;../shared-lib&quot;]
quiet = false
</code></pre>
<p>Relative paths in <code>allowed_dirs</code>, <code>skills_dir</code>, and <code>reviewer</code> resolve against the config file's parent directory, not the working directory. Tilde paths like <code>~/projects</code> expand to the home directory.</p>
<p>If a project config contains <code>api_key</code> inside a git repository, Swival prints a warning because the key could be committed accidentally. Prefer environment variables for credentials.</p>
<p>The <code>--system-prompt</code> and <code>no_system_prompt</code> settings are mutually exclusive in config files, just as they are on the command line.</p>
<p>The library API (<code>Session</code> class) does not auto-load config files. If you want config file support in library code, call <code>load_config()</code> and <code>config_to_session_kwargs()</code> explicitly.</p>
<h2 id="project-instruction-files">Project Instruction Files</h2>
<p>Swival can load two project-local instruction files from the base directory during startup. <code>CLAUDE.md</code> is injected as <code>&lt;project-instructions&gt;...&lt;/project-instructions&gt;</code>, and <code>AGENTS.md</code> is injected as <code>&lt;agent-instructions&gt;...&lt;/agent-instructions&gt;</code>. If both files exist, Swival loads both in that order.</p>
<p>Each file is capped at 10,000 characters. These instructions are appended to the built-in system prompt, which makes them a practical place to encode house rules such as test commands, coding conventions, and dependency policies.</p>
<pre><code class="language-markdown">This is a Go project using Chi for routing. Tests use testify.
Always run `go test ./...` after making changes.
Don't add dependencies without asking.
</code></pre>
<p>Use <code>--no-instructions</code> when you do not want Swival to read either file.</p>
<pre><code class="language-sh">swival --no-instructions &quot;task&quot;
</code></pre>
<p>If you set <code>--system-prompt</code>, project instruction files are also skipped because you are providing the full prompt text directly.</p>
<h2 id="system-prompt-control">System Prompt Control</h2>
<p>The built-in prompt is stored in <code>swival/system_prompt.txt</code> and defines default behavior, tool policy, and coding expectations.</p>
<p>You can replace it completely with <code>--system-prompt</code>.</p>
<pre><code class="language-sh">swival --system-prompt &quot;You are a security auditor. Only report vulnerabilities.&quot; &quot;Audit src/&quot;
</code></pre>
<p>You can also remove the system message entirely with <code>--no-system-prompt</code>.</p>
<pre><code class="language-sh">swival --no-system-prompt &quot;Just answer: what is 2+2?&quot;
</code></pre>
<p><code>--system-prompt</code> and <code>--no-system-prompt</code> are mutually exclusive.</p>
<p>When a system message is present, Swival appends the current local date and time to that system content.</p>
<h2 id="sampling-and-reproducibility">Sampling And Reproducibility</h2>
<p><code>--temperature</code> and <code>--top-p</code> control response sampling.</p>
<pre><code class="language-sh">swival --temperature 0.3 --top-p 0.9 &quot;task&quot;
</code></pre>
<p>If you do not set <code>--temperature</code>, provider defaults apply. <code>--top-p</code> defaults to <code>1.0</code>.</p>
<p><code>--seed</code> passes a deterministic seed when the provider supports it.</p>
<pre><code class="language-sh">swival --seed 42 &quot;task&quot;
</code></pre>
<p>Seeded runs are usually more stable, but identical output is still not guaranteed across all providers, model versions, and hardware environments.</p>
<h2 id="turn-and-token-limits">Turn And Token Limits</h2>
<p><code>--max-turns</code> limits how many agent-loop iterations are allowed.</p>
<pre><code class="language-sh">swival --max-turns 10 &quot;quick task&quot;
</code></pre>
<p>The default turn limit is <code>100</code>. If the loop reaches this limit without a final answer, Swival exits with code <code>2</code>.</p>
<p><code>--max-output-tokens</code> limits tokens generated per model call.</p>
<pre><code class="language-sh">swival --max-output-tokens 16384 &quot;task&quot;
</code></pre>
<p>The default is <code>32768</code>. If prompt size and context constraints require it, Swival clamps output budget downward automatically.</p>
<p><code>--max-context-tokens</code> sets requested context length.</p>
<pre><code class="language-sh">swival --max-context-tokens 65536 &quot;task&quot;
</code></pre>
<p>For LM Studio, this can trigger a model reload. When both <code>--max-context-tokens</code> and <code>--max-output-tokens</code> are set, <code>--max-output-tokens</code> must be less than or equal to context length.</p>
        </article>
    </div>
    <footer class="site-footer">
        MIT License &middot;
        <a href="https://github.com/swival/swival">GitHub</a>
    </footer>
</body>
</html>